#3 关系数据库设计方法

关系数据库是一类采用关系模型作为逻辑数据模型的数据库系统，遵从数据库设计的基本步骤，包括：需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库实施、数据库的运行和维护等阶段。
关系数据库的概念结构设计与逻辑结构设计是关系数据库整个设计过程的关键。

##1 关系数据库设计过程与各级模式

在关系数据库设计的不同阶段，会形成数据库的各级模式：
1. 在需求分析阶段，综合各个用户的应用需求；
2. 在概念结构设计阶段，形成独立于机器特点、、独立于各个关系数据库管理系统产品的概念模式；
3. 在逻辑结构设计阶段，将E-R图转换成具体的数据库产品支持的关系数据模型，形成数据库逻辑模式，然后根据用户处理的要求、安全性的考虑，在基本表的基础上再建立必要的视图，形成数据的外模式；
4. 在物理结构的设计阶段，根据关系数据库管理系统的特点和处理的需求，进行物理存储安排，建立索引，形成数据库内模式。

##2 概念结构设计方法
关系数据库的概念结构设计通常采用自顶向下法，它通过两个步骤来完成概念设计，首先简历局部信息结构，然后将局部信息结构合成为全局信息结构并优化，使用E-R图作为概念模型的描述工具。

###1 E-R图的表示方法
概念结构设计就是讲需求分析得到的用户需求抽象为信息结构的过程，通常使用E-R图作为描述现实世界的建模工具。E-R图提供了表示信息世界中实体、属性和联系的方法。

1. 实体性，用矩形表示，写明实体的名称
2. 属性，用椭圆形表示，并用无向边将其与其相应的实体连接起来
3. 联系，用菱形表示，写明联系的名称，用无向边分别与有关实体连接起来，同时在无向边旁标注联系的类型（1:1或M:N），如果一个联系具有属性，则这些属性也要用无向边与该联系连接起来

两个实体性之间、两个以上的实体性之间以及单个实体性内的联系，都会存在如下关系：一对一联系（1:1）、一对多联系（1:N）、多对多联系（M:N）。

###2 局部信息结构设计
根据需求分析报告中表明的不同用户视图范围所建立的满足该范围内用户需求的信息结构，成为局部信息结构。
局部信息结构设计的步骤包括：确定局部范围；选择实体；选择实体关键字；确定实体间联系；确定实体的属性。

###3 全局信息结构设计
全局信息结构设计是将上述步骤中产生的所有局部信息结构合并成为一个全局信息结构。
各局部E-R图之间的冲突主要表现在三个方面：
1. 属性冲突：属性域冲突和属性取值单位冲突
2. 命名冲突：同名异义和异名同义
3. 结构冲突：（三种）同一对象在一个局部E-R图中作为实体，而在领一个局部E-R图中作为属性；同一实体在不同E-R图中属性个数和类型不同；实体之间的联系在不同的E-R图中是不同的类型。

##3 逻辑结构设计方法
逻辑结构设计的任务是把在概念结构设计产生的概念模型转为具体的DBMS所支持的逻辑数据模型，也就是导出特定的DBMS可以处理的数据库逻辑结构。
通常包括三项工作：将E-R图转换为关系模型、对关系数据模型进行优化、设计面向用户的外模式。

###1 E-R图像关系模型的转换
