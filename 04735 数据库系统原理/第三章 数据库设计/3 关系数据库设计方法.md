关系数据库是一类采用关系模型作为逻辑数据模型的数据库系统，遵从数据库设计的基本步骤，包括：需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库实施、数据库的运行和维护等阶段。
关系数据库的概念结构设计与逻辑结构设计是关系数据库整个设计过程的关键。

# 1 关系数据库设计过程与各级模式
在关系数据库设计的不同阶段，会形成数据库的各级模式：
1. 在需求分析阶段，综合各个用户的应用需求；
2. 在概念结构设计阶段，形成独立于机器特点、、独立于各个关系数据库管理系统产品的概念模式；
3. 在逻辑结构设计阶段，将E-R图转换成具体的数据库产品支持的关系数据模型，形成数据库逻辑模式，然后根据用户处理的要求、安全性的考虑，在基本表的基础上再建立必要的视图，形成数据的外模式；
4. 在物理结构的设计阶段，根据关系数据库管理系统的特点和处理的需求，进行物理存储安排，建立索引，形成数据库内模式。

# 2 概念结构设计方法
关系数据库的概念结构设计通常采用自顶向下法，它通过两个步骤来完成概念设计，首先简历局部信息结构，然后将局部信息结构合成为全局信息结构并优化，使用E-R图作为概念模型的描述工具。

## 1 E-R图的表示方法
概念结构设计就是讲需求分析得到的用户需求抽象为信息结构的过程，通常使用E-R图作为描述现实世界的建模工具。E-R图提供了表示信息世界中实体、属性和联系的方法。

1. 实体性，用矩形表示，写明实体的名称
2. 属性，用椭圆形表示，并用无向边将其与其相应的实体连接起来
3. 联系，用菱形表示，写明联系的名称，用无向边分别与有关实体连接起来，同时在无向边旁标注联系的类型（1:1或M:N），如果一个联系具有属性，则这些属性也要用无向边与该联系连接起来

两个实体性之间、两个以上的实体性之间以及单个实体性内的联系，都会存在如下关系：一对一联系（1:1）、一对多联系（1:N）、多对多联系（M:N）。

## 2 局部信息结构设计
根据需求分析报告中表明的不同用户视图范围所建立的满足该范围内用户需求的信息结构，成为局部信息结构。
局部信息结构设计的步骤包括：确定局部范围；选择实体；选择实体关键字；确定实体间联系；确定实体的属性。

## 3 全局信息结构设计
全局信息结构设计是将上述步骤中产生的所有局部信息结构合并成为一个全局信息结构。
各局部E-R图之间的冲突主要表现在三个方面：
1. 属性冲突：属性域冲突和属性取值单位冲突
2. 命名冲突：同名异义和异名同义
3. 结构冲突：（三种）同一对象在一个局部E-R图中作为实体，而在领一个局部E-R图中作为属性；同一实体在不同E-R图中属性个数和类型不同；实体之间的联系在不同的E-R图中是不同的类型。

# 3 逻辑结构设计方法
逻辑结构设计的任务是把在概念结构设计产生的概念模型转为具体的DBMS所支持的逻辑数据模型，也就是导出特定的DBMS可以处理的数据库逻辑结构。
通常包括三项工作：将E-R图转换为关系模型、对关系数据模型进行优化、设计面向用户的外模式。

## 1 E-R图向关系模型的转换
遵循原则如下：
1. 一个实体型转换为一个关系模型；
2. 一个一对一联系可以转换为一个独立的关系模式；
3. 一个一对多联系可以转换为一个关系模式；
4. 一个多对多联系转换为一个关系模式；
5. 三个多对多联系转换为一个关系模式；
6. 具有相同码的关系模式可合并；

## 2 数据模型的优化
方法如下：
1. 确定各属性间的函数依赖关系；
2. 对于各个关系模式的范式，根据实际需要确定最合适的范式；
3. 判断每个关系模式的范式，根据实际需要确定最合适的范式；
4. 按照需求分析阶段得到的处理要求，分析这些模式对于这样的应用环境是否合适，确定是否要对某些模式进行合并或分解；
5. 对关系模式进行必要的分解，提高数据操作的效率和存储空间的利用率；

## 3 设计用户子模式
定义用户模式具体包括以下几个方面：
1. 可以通过视图机制在设计用户视图时，重新定义某些属性的别名，使其更符合用户的习惯，以方便实用；
2. 可以对不同级别的用户定义不同的视图，以保证系统的安全性；
3. 简化用户对系统的使用；

# 4 物理设计方法
关系数据库系统的优点之一是用户通常不需要进行数据存储结构和存取方法的设计。
物理设计的任务主要是通过关系建立索引和聚集来实现与应用相关数据的逻辑连接和物理聚集，以改善对数据库的存取效率。

## 1 建立索引
索引的建立是通过DBMS提供的有关命令来实现的。
用以建立索引的那些属性也应是其所在关系中使用频率较高的属性。
建立索引的方式通常有静态和动态两种。
静态建立索引是指应用人员预先建立索引，一旦建立，后续的应用程序均可直接使用该索引存取数据，它多适合于用户较多且使用周期相对较长的数据；
动态建立索引是指应用人员在程序内外临时建立索引，它多适合于单独用户或临时性使用要求情况。

## 2 建立聚集
聚集是将相关数据集中存放的物理存储技术，借以提高I/O的数据命中率而改善存取速度，其功能由具体的DBMS所提供，如MySQL。
数据聚集结构的一种有效方式是块结构方式，块与块之间由指针链接，一个块对应于一个物理分区。